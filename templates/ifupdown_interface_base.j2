{% if not network_interface_single_configuration_file %}
# {{ ansible_managed }}
{% endif %}
{#
## Decide where to put additional condiguration,
## like "debian_command_options" or bonding options,
## in case there are multiple IP families defined.
#}
{%- if (item.addresses | default([]) | ipv4)
  or (item.dhcp4 is defined and item.dhcp4 )
  -%}
  {%- set default_family = 'inet' -%}
{%- elif (item.addresses | default([]) | ipv6 ) -%}
  {%- set default_family = 'inet6' -%}
{%- else -%}
  {%- set default_family = 'inet' -%}
{%- endif -%}

{%- from "ifupdown_macros.j2" import def_iface with context -%}

{%- block main %}{% endblock %}

{#-
## If you're not happy with config this role generates,
## you can write in ifupdown syntax
## and it will be rendered verbatim.
-#}
{% if item.ifupdown_verbatim is defined %} 
{{ item.ifupdown_verbatim  }}
{% endif %}
